(function(c){var e=new window.StecHelper;window.StecScroll=function(){this.currentPosition=0;this.speed=40;this.ratio=1;this.container=this.originalStyle=null;this.id="stec-scroll-id-"+Math.random();this.onScrollCallback=this.outer=this.inner=null};var d=window.StecScroll.prototype;d.create=function(a){this.container=a;if(!(c(a).height()>=c(a).children().height())){this.originalStyle={position:c(a).css("position"),maxHeight:c(a).css("max-height"),overflow:c(a).css("overflow")};this.inner=c(a).wrapAll('<div class="stec-scroll-container"></div>');
this.outer=this.inner.parent(".stec-scroll-container");this.outer.css({position:"relative",height:this.inner.height(),maxHeight:this.inner.css("max-height"),overflow:"hidden"});this.inner.css({position:"relative",height:"initial",maxHeight:"initial",overflow:"visible"});a=this.inner.outerHeight();var b=this.outer.outerHeight();a=100-Math.abs(b-a)/a*100+"%";this.scrollBar=c('<div class="stec-scroll-bar"></div>').height(a).appendTo(this.outer);this.ratio=Math.abs(this.outer.outerHeight()/this.scrollBar.outerHeight());
e.isMobile()?this.mobileController():this.Controller()}};d.reset=function(){this.destroy();this.create(this.container)};d.destroy=function(){this.inner&&this.inner.css(this.originalStyle);this.outer&&(this.outer.find(".stec-scroll-bar").remove(),this.outer.contents().unwrap());c(document).off("keydown."+this.id)};d.scrollUp=function(){this.currentPosition+=this.speed;0<this.currentPosition&&(this.currentPosition=0);this.inner.css({top:this.currentPosition});this.positionScrollBar()};d.scrollDown=
function(){var a=Math.abs(this.outer.outerHeight()-this.inner.outerHeight());this.currentPosition-=this.speed;Math.abs(this.currentPosition)>a&&(this.currentPosition=-1*a);this.inner.css({top:this.currentPosition});this.positionScrollBar()};d.positionScrollBar=function(){this.scrollBar.css({top:-1*this.inner.position().top/this.ratio})};d.scrollTo=function(a){var b=Math.abs(this.outer.outerHeight()-this.inner.outerHeight());Math.abs(a)>b&&(a=-1*b);0<a&&(a=0);this.inner.css("top",a);this.currentPosition=
a;this.positionScrollBar();if("function"===typeof this.onScrollCallback)this.onScrollCallback(this.currentPosition)};d.onScroll=function(a){this.onScrollCallback=a};d.mobileController=function(){var a=this;this.container.css({"overflow-y":"scroll","max-height":""});this.outer.on("touchmove",function(b){a.currentPosition=a.container.scrollTop();if("function"===typeof a.onScrollCallback)a.onScrollCallback(a.currentPosition)})};d.Controller=function(){var a=this;this.outer.on("mousewheel DOMMouseScroll",
function(b){0<b.originalEvent.wheelDelta||0>b.originalEvent.detail?a.scrollUp():a.scrollDown();if("function"===typeof a.onScrollCallback)a.onScrollCallback(a.currentPosition);b.preventDefault()});this.scrollBar.draggable({containment:a.outer,axis:"y",drag:function(b,c){b=a.scrollBar.position().top*a.ratio;a.inner.css({top:-1*b});a.currentPosition=-1*b;if("function"===typeof a.onScrollCallback)a.onScrollCallback(a.currentPosition)},stop:function(){}});this.outer.hover(function(){c(this).addClass("active")},
function(){a.scrollBar.hasClass("ui-draggable-dragging")||c(this).removeClass("active")});c(document).on("keydown."+this.id,function(b){switch(b.which){case 38:case 33:b.preventDefault();a.scrollUp();break;case 40:case 34:b.preventDefault(),a.scrollDown()}})}})(window.jQuery);