(function(f){var h=window.moment;h&&h.locale("en");window.StecHelper=function(){this.animate=!1;this.glob={};this.calData={};this.eventsHandler=this.layout=this.instance=this.$instance="";this.canVclick="undefined"!==typeof f.vmouse};var c=window.StecHelper.prototype;c.set=function(a,b){"undefined"!==typeof this[a]&&(this[a]=b);return this};c.getSelector=function(a,b){var d=a.attr("id"),e=a.attr("class"),c="";d?c="#"+d:e?c=e.split(" ").map(function(a){return a?"."+a:""}).join(""):(console.warn("No selector found",
[a,b]),c="");return b?c+" "+b:c};c.isEmail=function(a){return/^([a-zA-Z0-9_.+-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(a)};c.getElementWidth=function(a){return a.get(0).getBoundingClientRect().width};c.dateToRFC=function(a){return h(a).utc().format("YYYYMMDDTHHmmss")+"Z"};c.eventToGoogleCalImportLink=function(a,b){a=this.calData.getEventById(a);var d=h.tz(a.start_date,a.timezone).add(b,"seconds");b=h.tz(a.end_date,a.timezone).add(b,"seconds");a.all_day?(d=d.format("YYYYMMDD"),b=h(b).add(1,
"day").format("YYYYMMDD")):(d=this.dateToRFC(d),b=this.dateToRFC(b));return"//calendar.google.com/calendar/render?action=TEMPLATE&text="+a.title+"&dates="+d+"/"+b+"&details="+a.description_short+"&location="+(a.location.full_address?a.location.full_address:"")+"&sf=true&output=xml"};c.beautifyScheduleTimespan=function(a){a=new h(a);var b="",d="HH:mm",e=this.getGeneralSettings("time_format"),c="",g="",k=[];12===parseInt(e,10)&&(d="hh:mma");c=this.getGeneralSettings("date_format");g="dd.mm.yyyy"===
c?". ":" ";switch(c){case "dd.mm.yyyy":b="DD. MMM ";break;case "dd-mm-yy":b="DD MMM ";break;case "mm-dd-yy":b="MMM DD ";break;case "yy-mm-dd":b="MMM DD"}b=a.format(b+(" "+d)).split(g);k=[];f.each(b,function(){var a="undefined"!==typeof window.stecLang[this.toLowerCase().trim()]?window.stecLang[this.toLowerCase().trim()]:this;a=a.charAt(0).toUpperCase()+a.slice(1);k.push(a)});this.glob.temp.dateTimeString=k.join(g);this.$instance.trigger("stecBeforeReturnScheduleTimespan",{$instance:this.$instance,
momentDate:a,temp:this.glob.temp});return this.glob.temp.dateTimeString};c.beautifyDate=function(a){a=h(a);var b="";var d="HH:mm";var e=this.getGeneralSettings("time_format");12===parseInt(e,10)&&(d="hh:mma");b=this.getGeneralSettings("date_format");e="dd.mm.yyyy"===b?". ":" ";switch(b){case "dd.mm.yyyy":b="D. MMM. YYYY";break;case "dd-mm-yy":b="D MMM YYYY";break;case "mm-dd-yy":b="MMM D YYYY";break;case "yy-mm-dd":b="YYYY MMM D"}d=a.format(b+(" "+d));d=d.split(e);var c=[];f.each(d,function(){var a=
"undefined"!==typeof window.stecLang[this.toLowerCase().trim()]?window.stecLang[this.toLowerCase().trim()]:this;a=a.charAt(0).toUpperCase()+a.slice(1);c.push(a)});c=c.join(e);this.glob.temp.dateTimeString=c[0].toUpperCase()+c.substr(1);this.$instance.trigger("stecBeforeReturnBeautifyDate",{$instance:this.$instance,momentDate:a,temp:this.glob.temp});return this.glob.temp.dateTimeString};c.beautifyTimespan=function(a,b,d){d=parseInt(d,10);var e=new h(a);var c=b?new h(b):null;var g="";var k="HH:mm";
var m=this.getGeneralSettings("time_format");12===parseInt(m,10)&&(k="hh:mma");g=this.getGeneralSettings("date_format");m="dd.mm.yyyy"===g?". ":" ";switch(g){case "dd.mm.yyyy":g="D. MMM. YYYY";break;case "dd-mm-yy":g="D MMM YYYY";break;case "mm-dd-yy":g="MMM D YYYY";break;case "yy-mm-dd":g="YYYY MMM D"}1!==parseInt(d,10)&&(g+=" "+k);b?e.isSame(c,"day")?(e=e.format(g),1!==parseInt(d,10)&&(e+=" - "+c.format(k))):e.isSame(c,"month")?(k=g.replace("YYYY",""),e=e.format(g),e+=" - "+c.format(k)):(e=e.format(g),
e+=" - "+c.format(g)):e=e.format(g);e=e.split(m);var l=[];f.each(e,function(){var a="undefined"!==typeof window.stecLang[this.toLowerCase().trim()]?window.stecLang[this.toLowerCase().trim()]:this;a=a.charAt(0).toUpperCase()+a.slice(1);l.push(a)});l=l.join(m);this.glob.temp.dateTimeString=l[0].toUpperCase()+l.substr(1);this.$instance.trigger("stecBeforeReturnBeautifyTimespan",{$instance:this.$instance,startDate:a,endDate:b,allDay:d,temp:this.glob.temp});return this.glob.temp.dateTimeString};c.focus=
function(a){var b=f("#wpadminbar");1===parseInt(this.glob.options.general_settings.event_auto_focus,10)&&f("html, body").animate({scrollTop:f(a).offset().top-(0<b.length?b.height():0)+parseInt(this.glob.options.general_settings.event_auto_focus_offset,10)},{duration:750,easing:"easeInOutExpo"})};c.nl2br=function(a){return a.replace(/(\r\n|\n\r|\r|\n)/g,"<br>")};c.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};c.preloadContentImages=function(a){return new Promise(function(b){var d=
0;d=a.length;0<a.length?f.each(a,function(){var a=new Image;a.src=this;a.onload=function(){d--;0>=d&&b()}}):b()})};c.getImageHeight=function(a){if(!a)return 0;var b=new Image;b.src=a;return b.naturalHeight};c.promiseImageHeight=function(a){return new Promise(function(b){if(!a)return 0;var d=new Image;d.src=a;d.onload=function(){return b(d.naturalHeight)}})};c.capitalizeFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};c.dbDateOffset=function(a,b){return h(a).add(b,"seconds").toDate()};
c.dbDateTimeToDate=function(a){return(new h(a)).toDate()};c.getColorBrightness=function(a){a=a.substring(1);a=parseInt(a,16);return.2126*(a>>16&255)+.7152*(a>>8&255)+.0722*(a>>0&255)};c.extendBind=function(a,b,d){var e=this;"undefined"!==typeof window[a]&&(b?"undefined"!==typeof window[a][b]&&f(window[a][b]).each(function(){"function"===typeof this&&this({instance:e.instance,$instance:e.$instance,glob:e.glob,helper:e,calData:e.calData,layout:e.layout,eventsHandler:e.eventsHandler},d?d:null)}):f(window[a]).each(function(){"function"===
typeof this&&this({instance:e.instance,$instance:e.$instance,glob:e.glob,helper:e,calData:e.calData,layout:e.layout,eventsHandler:e.eventsHandler},d?d:null)}))};c.onResizeEnd=function(a,b,d){var e,c=f(window).width(),g=f(window).height();b=b?b:10;d=d?"resize."+d:"resize";f(window).on(d,function(){clearTimeout(e);e=setTimeout(function(){"function"!==typeof a||f(window).width()===c&&f(window).height()===g||a.call()},b)})};c.iso8601Week=function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-
(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1};c.newDate=function(a,b,d){return new Date(parseInt(a,10),parseInt(b,10),parseInt(d,10),0,0,0,0)};c.getWeekInfo=function(a){if(a){var b=a.getFullYear();var d=a.getMonth();a=a.getDate()}else b=this.glob.options.year,d=this.glob.options.month,a=this.glob.options.day;b=this.newDate(b,d,a);switch(this.glob.options.general_settings.first_day_of_the_week){case "mon":if(1!==b.getDay())for(;1!==b.getDay();)b.setDate(b.getDate()-
1);break;case "sat":if(6!==b.getDay())for(;6!==b.getDay();)b.setDate(b.getDate()-1);break;case "sun":if(0!==b.getDay())for(;0!==b.getDay();)b.setDate(b.getDate()-1)}d=new Date(b);a=new Date(d);a.setDate(a.getDate()+6);return{start:{day:d.getDate(),month:d.getMonth(),year:d.getFullYear()},end:{day:a.getDate(),month:a.getMonth(),year:a.getFullYear()},week:this.iso8601Week(b)}};c.getMonthInfo=function(a,b){var d="";isNaN(a)&&(a=parseInt(this.glob.options.month,10));isNaN(b)&&(b=parseInt(this.glob.options.year,
10));var c=this.newDate(b,a,1).getDay();var f=[31,28,31,30,31,30,31,31,30,31,30,31][a];1===a&&(0===b%4&&0!==b%100||0===b%400)&&(f=29);switch(this.glob.options.general_settings.first_day_of_the_week){case "mon":d=0>c-1?c+6:c-1;break;case "sat":d=0>c-7?c+1:c-7;break;case "sun":d=c}return{startingDay:c,monthLength:f,year:b,month:a,dayOffset:d,monthName:this.glob.options.monthLabels[a],monthNameShort:this.glob.options.monthLabelsShort[a]}};c.getDateFromData=function(a){a=a.split("-");return this.newDate(parseInt(a[0],
10),parseInt(a[1],10),parseInt(a[2],10))};c.getDataFromDate=function(a){return a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()};c.getWeekLabel=function(a,b){return a.replace(/sday/g,b.start.day).replace(/smonth/g,this.glob.options.monthLabelsShort[b.start.month]).replace(/syear/g,b.start.year).replace(/eday/g,b.end.day).replace(/emonth/g,this.glob.options.monthLabelsShort[b.end.month]).replace(/eyear/g,b.end.year)};c.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?
!0:!1};c.clickHandle=function(a){var b=a?"vclick."+a:"vclick";a=a?"click."+a:"click";return this.isMobile()&&this.canVclick?b:a};c.instaClickHandle=function(){return this.isMobile()?"touchstart":"mousedown"};c.insertAtIndex=function(a,b,d){return[a.slice(0,b),d,a.slice(b)].join("")};c.getPermalink=function(a,b){if(b&&0<parseInt(b,10)){var d=a.indexOf("?");a=-1!==d?this.insertAtIndex(a,d,b.toString()+"/"):this.insertAtIndex(a,a.length,b.toString()+"/")}return a};c.lang=function(a){return window.stecLang[a]?
window.stecLang[a]:a};c.attendanceHasFreeSlots=function(a,b){var d=a.rsvp_limit;if(0===a.rsvp_limit)return 9999;0<a.attendance.length&&f.each(a.attendance,function(){1===parseInt(this.status[b],10)&&(d-=this.people)});return Math.max(0,d)};c.getEventState=function(a,b){b||(b=0);var d=h().unix();var c=a.start_date_timestamp+b;if(d>a.end_date_timestamp+b)return 2;if(d>c)return 1;if(d<c)return 0};c.toast=function(a,b,d,c){d||(d=2E3);b||(b="body");f(".stec-toast").remove();var e=f('<div class="stec-toast">'+
a+"</div>").appendTo(b);c&&e.css(c);setTimeout(function(){e.addClass("stec-toast-close");setTimeout(function(){e.remove()},250)},d)};c.getMapStyles=function(a){var b=new window.google.maps.StyledMapType([{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",
stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",
elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",
stylers:[{color:"#17263c"}]}],{name:"Aubergine"}),d=new window.google.maps.StyledMapType([{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",
stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},
{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",
stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}],
{name:"Retro"}),c=new window.google.maps.StyledMapType([{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",
elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",
stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],{name:"Night"}),f=new window.google.maps.StyledMapType([{elementType:"geometry",
stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",
stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},
{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],{name:"Silver"}),g=new window.google.maps.StyledMapType([{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",
stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},
{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",
elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],{name:"Dark"});switch(a){case "silver":return f;
case "aubergine":return b;case "retro":return d;case "night":return c;case "dark":return g;default:return!1}};c.getGeneralSettings=function(a){return this.glob.options.general_settings?a?this.glob.options.general_settings[a]:this.glob.options.general_settings:a?this.glob.options[a]:this.glob.options};c.osm=function(a){if(!window.L)return!1;a=window.L.map(a);this.glob.temp.osmTileLayer=window.L.tileLayer("//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="//www.openstreetmap.org/copyright">OpenStreetMap</a> | <a href="//wiki.osmfoundation.org/wiki/Privacy_Policy">Privacy Policy</a>'});
this.$instance.trigger("onStecOsmGetTileLayer",{glob:this.glob});a.addLayer(this.glob.temp.osmTileLayer);return a};c.promiseCoordinates=function(a){var b=this;return new Promise(function(d,c){if(0>=a.location.length||!0===a.noGeocode)return c(a);if(a.location.coordinates)return d(a.location.coordinates);f.getJSON("//nominatim.openstreetmap.org/search?format=json&limit=1&q="+a.location.full_address,function(e){if(0<e.length)return e=[e[0].lat,e[0].lon].join(),b.calData&&(b.calData.getEventById(a.id).location.coordinates=
e),d(e);b.calData&&(b.calData.getEventById(a.id).noGeocode=!0);console.log("Unable to find coordinates for: "+a.location.full_address);return c(a)})})};c.promiseGetAddressCoordinates=function(a){return new Promise(function(b,d){f.getJSON("//nominatim.openstreetmap.org/search?format=json&limit=1&q="+a,function(c){if(0<c.length)return b([c[0].lat,c[0].lon].join());console.log("Unable to find coordinates for: "+a);return d(a)})})};c.measureDistance=function(a,b){a=a.split(",").map(function(a){return parseFloat(a,
10)});b=b.split(",").map(function(a){return parseFloat(a,10)});var d=(a[0]-b[0])*Math.PI/180,c=(a[1]-b[1])*Math.PI/180;a=Math.sin(d/2)*Math.sin(d/2)+Math.sin(c/2)*Math.sin(c/2)*Math.cos(b[0]*Math.PI/180)*Math.cos(a[0]*Math.PI/180);return Math.round(12742E3*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))/1E3)};c.modalWindow=function(){this.isInit=!1;this.preloaderTimeout=null;this.content=[];this.settings={id:null,$instance:null,glob:null,helper:null}};c.modalWindow.prototype.set=function(a,b){"undefined"!==
typeof this.settings[a]&&(this.settings[a]=b);return this};c.newModalWindow=function(a){var b=new this.modalWindow;b.set("id",a?a:Date.now().toString(36)+Math.random().toString(36).substr(2));b.set("$instance",this.$instance);b.set("glob",this.glob);b.set("helper",this);return b};c.modalWindow.prototype.close=function(){f("#"+this.settings.id).remove();0>=f("body > .stec-modal").length&&f("body").removeClass("stec-modal-opened stec-no-scroll");f("#stec-layout-event-inner-out-wrapper-"+this.settings.glob.options.id).show()};
c.modalWindow.prototype.setContent=function(a){this.content.push(a)};c.modalWindow.prototype.controller=function(a){var b=this;a.find(".stec-modal-window-close").on(this.settings.helper.clickHandle(),function(a){a.stopPropagation();b.close()});a.on(this.settings.helper.clickHandle(),function(a){a.stopPropagation();b.close()});a.find(".stec-modal-window-wrapper").on(this.settings.helper.clickHandle(),function(a){a.stopPropagation()})};c.modalWindow.prototype.promiseOpen=function(){var a=this;f("#stec-layout-event-inner-out-wrapper-"+
this.settings.glob.options.id).hide();return new Promise(function(b){var c=[],e=[];c.push('<div id="'+a.settings.id+'" class="stec-modal-window-background stec-modal loading">');c.push('     <div class="stec-modal-window">');c.push('         <div class="stec-modal-window-wrapper">');c.push(a.content);c.push("         </div>");c.push('         <i class="stec-modal-window-close fa fa-times"></i>');c.push("     </div>");c.push("</div>");f("body").addClass("stec-modal-opened stec-no-scroll");var h=f(c.join("")).data("stec-modal-object",
a).appendTo("body");a.controller(h);f.each(h.find("img"),function(){e.push(this.src)});a.preloaderTimeout=setTimeout(function(){f(a.settings.glob.template.preloader).appendTo(h)},500);a.settings.helper.preloadContentImages(e).then(function(){clearTimeout(a.preloaderTimeout);h.find(".stec-preloader").remove();h.removeClass("loading");return b(h)})})}})(window.jQuery);